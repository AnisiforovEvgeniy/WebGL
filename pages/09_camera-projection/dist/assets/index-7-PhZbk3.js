(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var O=1e-6,G=typeof Float32Array<"u"?Float32Array:Array;function B(){var r=new G(16);return G!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function H(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function V(r,e,t){var a=e[0],i=e[1],s=e[2],c=e[3],v=e[4],R=e[5],p=e[6],M=e[7],y=e[8],m=e[9],o=e[10],P=e[11],u=e[12],x=e[13],C=e[14],L=e[15],f=t[0],h=t[1],l=t[2],d=t[3];return r[0]=f*a+h*v+l*y+d*u,r[1]=f*i+h*R+l*m+d*x,r[2]=f*s+h*p+l*o+d*C,r[3]=f*c+h*M+l*P+d*L,f=t[4],h=t[5],l=t[6],d=t[7],r[4]=f*a+h*v+l*y+d*u,r[5]=f*i+h*R+l*m+d*x,r[6]=f*s+h*p+l*o+d*C,r[7]=f*c+h*M+l*P+d*L,f=t[8],h=t[9],l=t[10],d=t[11],r[8]=f*a+h*v+l*y+d*u,r[9]=f*i+h*R+l*m+d*x,r[10]=f*s+h*p+l*o+d*C,r[11]=f*c+h*M+l*P+d*L,f=t[12],h=t[13],l=t[14],d=t[15],r[12]=f*a+h*v+l*y+d*u,r[13]=f*i+h*R+l*m+d*x,r[14]=f*s+h*p+l*o+d*C,r[15]=f*c+h*M+l*P+d*L,r}function K(r,e,t){var a=t[0],i=t[1],s=t[2],c,v,R,p,M,y,m,o,P,u,x,C;return e===r?(r[12]=e[0]*a+e[4]*i+e[8]*s+e[12],r[13]=e[1]*a+e[5]*i+e[9]*s+e[13],r[14]=e[2]*a+e[6]*i+e[10]*s+e[14],r[15]=e[3]*a+e[7]*i+e[11]*s+e[15]):(c=e[0],v=e[1],R=e[2],p=e[3],M=e[4],y=e[5],m=e[6],o=e[7],P=e[8],u=e[9],x=e[10],C=e[11],r[0]=c,r[1]=v,r[2]=R,r[3]=p,r[4]=M,r[5]=y,r[6]=m,r[7]=o,r[8]=P,r[9]=u,r[10]=x,r[11]=C,r[12]=c*a+M*i+P*s+e[12],r[13]=v*a+y*i+u*s+e[13],r[14]=R*a+m*i+x*s+e[14],r[15]=p*a+o*i+C*s+e[15]),r}function A0(r,e,t,a,i){var s=1/Math.tan(e/2);if(r[0]=s/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,i!=null&&i!==1/0){var c=1/(a-i);r[10]=(i+a)*c,r[14]=2*i*a*c}else r[10]=-1,r[14]=-2*a;return r}var M0=A0;function y0(r,e,t,a){var i,s,c,v,R,p,M,y,m,o,P=e[0],u=e[1],x=e[2],C=a[0],L=a[1],f=a[2],h=t[0],l=t[1],d=t[2];return Math.abs(P-h)<O&&Math.abs(u-l)<O&&Math.abs(x-d)<O?H(r):(M=P-h,y=u-l,m=x-d,o=1/Math.sqrt(M*M+y*y+m*m),M*=o,y*=o,m*=o,i=L*m-f*y,s=f*M-C*m,c=C*y-L*M,o=Math.sqrt(i*i+s*s+c*c),o?(o=1/o,i*=o,s*=o,c*=o):(i=0,s=0,c=0),v=y*c-m*s,R=m*i-M*c,p=M*s-y*i,o=Math.sqrt(v*v+R*R+p*p),o?(o=1/o,v*=o,R*=o,p*=o):(v=0,R=0,p=0),r[0]=i,r[1]=v,r[2]=M,r[3]=0,r[4]=s,r[5]=R,r[6]=y,r[7]=0,r[8]=c,r[9]=p,r[10]=m,r[11]=0,r[12]=-(i*P+s*u+c*x),r[13]=-(v*P+R*u+p*x),r[14]=-(M*P+y*u+m*x),r[15]=1,r)}const m0=`#version 300 es
    in vec4 aPosition;
    out vec4 vColor;
    uniform vec4 uColor;
    uniform mat4 uMatrix;

    void main(){
        gl_Position = uMatrix * aPosition;
        vColor = uColor;
    }
`,v0=`#version 300 es
    precision mediump float;  
    in vec4 vColor;            
    out vec4 outColor;

    void main(){
        outColor = vColor;
    }
`;function R0(r,e){const t=e.getBoundingClientRect(),i=devicePixelRatio*t.width;e.width=i,e.height=i,r.viewport(0,0,i,i)}function X(r,e,t){const a=r.createShader(t);return r.shaderSource(a,e),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS)?a:(console.error(r.getShaderInfoLog(a)),null)}function p0(r,e,t){const a=r.createProgram();return r.attachShader(a,e),r.attachShader(a,t),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)?a:(console.error(r.getProgramInfoLog(a)),null)}function E(r,e,t){const a=r.createVertexArray();return r.bindVertexArray(a),r.bindBuffer(r.ARRAY_BUFFER,e),r.vertexAttribPointer(t,3,r.FLOAT,!1,0,0),r.enableVertexAttribArray(t),r.bindVertexArray(null),a}const J=new Float32Array([-.25,.25,0,-.25,.25,-.5,.25,.25,0,.25,.25,0,.25,.25,-.5,-.25,.25,-.5,-.25,-.25,0,.25,-.25,0,-.25,-.25,-.5,.25,-.25,0,.25,-.25,-.5,-.25,-.25,-.5,-.25,.25,0,.25,.25,0,.25,-.25,0,-.25,.25,0,-.25,-.25,0,.25,-.25,0,-.25,.25,-.5,.25,.25,-.5,-.25,-.25,-.5,-.25,-.25,-.5,.25,-.25,-.5,.25,.25,-.5,-.25,.25,0,-.25,-.25,0,-.25,-.25,-.5,-.25,.25,0,-.25,.25,-.5,-.25,-.25,-.5,.25,.25,0,.25,.25,-.5,.25,-.25,0,.25,-.25,0,.25,-.25,-.5,.25,.25,-.5]),Q=new Float32Array([-.25,.25,0,.25,.25,0,.25,.25,0,.25,-.25,0,.25,-.25,0,-.25,-.25,0,-.25,-.25,0,-.25,.25,0,-.25,.25,-.5,.25,.25,-.5,.25,.25,-.5,.25,-.25,-.5,.25,-.25,-.5,-.25,-.25,-.5,-.25,-.25,-.5,-.25,.25,-.5,-.25,.25,0,-.25,.25,-.5,.25,.25,0,.25,.25,-.5,.25,-.25,0,.25,-.25,-.5,-.25,-.25,0,-.25,-.25,-.5]),Z=new Float32Array([-.25,-.25,-.25,.25,-.25,-.25,-.25,-.25,.25,-.25,-.25,.25,.25,-.25,-.25,.25,-.25,.25,-.25,-.25,.25,.25,-.25,.25,0,.25,0,.25,-.25,.25,.25,-.25,-.25,0,.25,0,.25,-.25,-.25,-.25,-.25,-.25,0,.25,0,-.25,-.25,-.25,-.25,-.25,.25,0,.25,0]),$=new Float32Array([-.25,-.25,-.25,.25,-.25,-.25,.25,-.25,-.25,.25,-.25,.25,.25,-.25,.25,-.25,-.25,.25,-.25,-.25,.25,-.25,-.25,-.25,-.25,-.25,-.25,0,.25,0,.25,-.25,-.25,0,.25,0,.25,-.25,.25,0,.25,0,-.25,-.25,.25,0,.25,0]),A=.2,F=.4,S=64,w=[];for(let r=0;r<S;r++){const e=r/S*Math.PI*2,t=(r+1)/S*Math.PI*2;w.push(Math.cos(e)*A,F/2,Math.sin(e)*A,Math.cos(t)*A,F/2,Math.sin(t)*A,0,F/2,0)}for(let r=0;r<S;r++){const e=r/S*Math.PI*2,t=(r+1)/S*Math.PI*2;w.push(Math.cos(e)*A,-F/2,Math.sin(e)*A,Math.cos(t)*A,-F/2,Math.sin(t)*A,0,-F/2,0)}for(let r=0;r<S;r++){const e=r/S*Math.PI*2,t=(r+1)/S*Math.PI*2;w.push(Math.cos(e)*A,F/2,Math.sin(e)*A,Math.cos(t)*A,F/2,Math.sin(t)*A,Math.cos(t)*A,-F/2,Math.sin(t)*A),w.push(Math.cos(e)*A,F/2,Math.sin(e)*A,Math.cos(t)*A,-F/2,Math.sin(t)*A,Math.cos(e)*A,-F/2,Math.sin(e)*A)}const k=new Float32Array(w),g=.2,b=.4,I=64,j=7,Y=[];for(let r=0;r<I;r++){const e=r/I*Math.PI*2,t=(r+1)/I*Math.PI*2;Y.push(Math.cos(e)*g,b/2,Math.sin(e)*g,Math.cos(t)*g,b/2,Math.sin(t)*g)}for(let r=0;r<I;r++){const e=r/I*Math.PI*2,t=(r+1)/I*Math.PI*2;Y.push(Math.cos(e)*g,-b/2,Math.sin(e)*g,Math.cos(t)*g,-b/2,Math.sin(t)*g)}for(let r=0;r<j;r++){const e=r/j*Math.PI*2,t=Math.cos(e)*g,a=Math.sin(e)*g;Y.push(t,b/2,a,t,-b/2,a)}const r0=new Float32Array(Y),U=document.getElementById("canvas"),n=U.getContext("webgl2");n||alert("webgl2 не работает");const P0=X(n,m0,n.VERTEX_SHADER),u0=X(n,v0,n.FRAGMENT_SHADER),D=p0(n,P0,u0),e0=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,e0);n.bufferData(n.ARRAY_BUFFER,J,n.STATIC_DRAW);const n0=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,n0);n.bufferData(n.ARRAY_BUFFER,Q,n.STATIC_DRAW);const t0=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t0);n.bufferData(n.ARRAY_BUFFER,Z,n.STATIC_DRAW);const i0=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,i0);n.bufferData(n.ARRAY_BUFFER,$,n.STATIC_DRAW);const a0=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,a0);n.bufferData(n.ARRAY_BUFFER,k,n.STATIC_DRAW);const s0=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,s0);n.bufferData(n.ARRAY_BUFFER,r0,n.STATIC_DRAW);const _=n.getAttribLocation(D,"aPosition"),x0=E(n,e0,_),F0=E(n,n0,_),C0=E(n,t0,_),g0=E(n,i0,_),S0=E(n,a0,_),B0=E(n,s0,_),T=n.getUniformLocation(D,"uColor"),q=n.getUniformLocation(D,"uMatrix");R0(n,U);n.useProgram(D);const o0=B(),c0=B(),N=B();M0(c0,45*Math.PI/180,U.width/U.height,.1,10);y0(o0,[1.4,1,1.2],[0,0,-.25],[0,1,0]);V(N,c0,o0);const f0=B(),z=B();K(z,z,[-.75,0,0]);V(f0,N,z);const h0=B(),l0=B();H(l0);V(h0,N,l0);const d0=B(),W=B();K(W,W,[.5,.4,0]);V(d0,N,W);n.uniformMatrix4fv(q,!1,f0);n.uniform4f(T,1,.5,.7,1);n.bindVertexArray(x0);n.drawArrays(n.TRIANGLES,0,J.length/3);n.uniform4f(T,0,0,0,1);n.bindVertexArray(F0);n.drawArrays(n.LINES,0,Q.length/3);n.uniformMatrix4fv(q,!1,d0);n.uniform4f(T,.4,.7,1,1);n.bindVertexArray(S0);n.drawArrays(n.TRIANGLES,0,k.length/3);n.uniform4f(T,0,0,0,1);n.bindVertexArray(B0);n.drawArrays(n.LINES,0,r0.length/3);n.uniformMatrix4fv(q,!1,h0);n.uniform4f(T,.5,1,.5,1);n.bindVertexArray(C0);n.drawArrays(n.TRIANGLES,0,Z.length/3);n.uniform4f(T,0,0,0,1);n.bindVertexArray(g0);n.drawArrays(n.LINES,0,$.length/3);
