(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var D=1e-6,q=typeof Float32Array<"u"?Float32Array:Array;function C(){var r=new q(16);return q!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function j(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function w(r,t,n){var i=t[0],a=t[1],s=t[2],c=t[3],x=t[4],v=t[5],b=t[6],y=t[7],R=t[8],M=t[9],o=t[10],m=t[11],F=t[12],P=t[13],B=t[14],S=t[15],f=n[0],A=n[1],l=n[2],d=n[3];return r[0]=f*i+A*x+l*R+d*F,r[1]=f*a+A*v+l*M+d*P,r[2]=f*s+A*b+l*o+d*B,r[3]=f*c+A*y+l*m+d*S,f=n[4],A=n[5],l=n[6],d=n[7],r[4]=f*i+A*x+l*R+d*F,r[5]=f*a+A*v+l*M+d*P,r[6]=f*s+A*b+l*o+d*B,r[7]=f*c+A*y+l*m+d*S,f=n[8],A=n[9],l=n[10],d=n[11],r[8]=f*i+A*x+l*R+d*F,r[9]=f*a+A*v+l*M+d*P,r[10]=f*s+A*b+l*o+d*B,r[11]=f*c+A*y+l*m+d*S,f=n[12],A=n[13],l=n[14],d=n[15],r[12]=f*i+A*x+l*R+d*F,r[13]=f*a+A*v+l*M+d*P,r[14]=f*s+A*b+l*o+d*B,r[15]=f*c+A*y+l*m+d*S,r}function H(r,t,n){var i=n[0],a=n[1],s=n[2],c,x,v,b,y,R,M,o,m,F,P,B;return t===r?(r[12]=t[0]*i+t[4]*a+t[8]*s+t[12],r[13]=t[1]*i+t[5]*a+t[9]*s+t[13],r[14]=t[2]*i+t[6]*a+t[10]*s+t[14],r[15]=t[3]*i+t[7]*a+t[11]*s+t[15]):(c=t[0],x=t[1],v=t[2],b=t[3],y=t[4],R=t[5],M=t[6],o=t[7],m=t[8],F=t[9],P=t[10],B=t[11],r[0]=c,r[1]=x,r[2]=v,r[3]=b,r[4]=y,r[5]=R,r[6]=M,r[7]=o,r[8]=m,r[9]=F,r[10]=P,r[11]=B,r[12]=c*i+y*a+m*s+t[12],r[13]=x*i+R*a+F*s+t[13],r[14]=v*i+M*a+P*s+t[14],r[15]=b*i+o*a+B*s+t[15]),r}function v0(r,t,n,i,a){var s=1/Math.tan(t/2);if(r[0]=s/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,a!=null&&a!==1/0){var c=1/(i-a);r[10]=(a+i)*c,r[14]=2*a*i*c}else r[10]=-1,r[14]=-2*i;return r}var b0=v0;function m0(r,t,n,i){var a,s,c,x,v,b,y,R,M,o,m=t[0],F=t[1],P=t[2],B=i[0],S=i[1],f=i[2],A=n[0],l=n[1],d=n[2];return Math.abs(m-A)<D&&Math.abs(F-l)<D&&Math.abs(P-d)<D?j(r):(y=m-A,R=F-l,M=P-d,o=1/Math.sqrt(y*y+R*R+M*M),y*=o,R*=o,M*=o,a=S*M-f*R,s=f*y-B*M,c=B*R-S*y,o=Math.sqrt(a*a+s*s+c*c),o?(o=1/o,a*=o,s*=o,c*=o):(a=0,s=0,c=0),x=R*c-M*s,v=M*a-y*c,b=y*s-R*a,o=Math.sqrt(x*x+v*v+b*b),o?(o=1/o,x*=o,v*=o,b*=o):(x=0,v=0,b=0),r[0]=a,r[1]=x,r[2]=y,r[3]=0,r[4]=s,r[5]=v,r[6]=R,r[7]=0,r[8]=c,r[9]=b,r[10]=M,r[11]=0,r[12]=-(a*m+s*F+c*P),r[13]=-(x*m+v*F+b*P),r[14]=-(y*m+R*F+M*P),r[15]=1,r)}const F0=`#version 300 es
    in vec4 aPosition;
    out vec4 vColor;
    uniform vec4 uColor;
    uniform mat4 uMatrix;

    void main(){
        gl_Position = uMatrix * aPosition;
        vColor = uColor;
    }
`,P0=`#version 300 es
    precision mediump float;  
    in vec4 vColor;            
    out vec4 outColor;

    void main(){
        outColor = vColor;
    }
`;function p0(r,t){const n=t.getBoundingClientRect(),a=devicePixelRatio*n.width;t.width=a,t.height=a,r.viewport(0,0,a,a)}function K(r,t,n){const i=r.createShader(n);return r.shaderSource(i,t),r.compileShader(i),r.getShaderParameter(i,r.COMPILE_STATUS)?i:(console.error(r.getShaderInfoLog(i)),null)}function u0(r,t,n){const i=r.createProgram();return r.attachShader(i,t),r.attachShader(i,n),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)?i:(console.error(r.getProgramInfoLog(i)),null)}const X=new Float32Array([-.25,.25,0,-.25,.25,-.5,.25,.25,0,.25,.25,0,.25,.25,-.5,-.25,.25,-.5,-.25,-.25,0,.25,-.25,0,-.25,-.25,-.5,.25,-.25,0,.25,-.25,-.5,-.25,-.25,-.5,-.25,.25,0,.25,.25,0,.25,-.25,0,-.25,.25,0,-.25,-.25,0,.25,-.25,0,-.25,.25,-.5,.25,.25,-.5,-.25,-.25,-.5,-.25,-.25,-.5,.25,-.25,-.5,.25,.25,-.5,-.25,.25,0,-.25,-.25,0,-.25,-.25,-.5,-.25,.25,0,-.25,.25,-.5,-.25,-.25,-.5,.25,.25,0,.25,.25,-.5,.25,-.25,0,.25,-.25,0,.25,-.25,-.5,.25,.25,-.5]),J=new Float32Array([-.25,.25,0,.25,.25,0,.25,.25,0,.25,-.25,0,.25,-.25,0,-.25,-.25,0,-.25,-.25,0,-.25,.25,0,-.25,.25,-.5,.25,.25,-.5,.25,.25,-.5,.25,-.25,-.5,.25,-.25,-.5,-.25,-.25,-.5,-.25,-.25,-.5,-.25,.25,-.5,-.25,.25,0,-.25,.25,-.5,.25,.25,0,.25,.25,-.5,.25,-.25,0,.25,-.25,-.5,-.25,-.25,0,-.25,-.25,-.5]),Q=new Float32Array([-.25,-.25,-.25,.25,-.25,-.25,-.25,-.25,.25,-.25,-.25,.25,.25,-.25,-.25,.25,-.25,.25,-.25,-.25,.25,.25,-.25,.25,0,.25,0,.25,-.25,.25,.25,-.25,-.25,0,.25,0,.25,-.25,-.25,-.25,-.25,-.25,0,.25,0,-.25,-.25,-.25,-.25,-.25,.25,0,.25,0]),Z=new Float32Array([-.25,-.25,-.25,.25,-.25,-.25,.25,-.25,-.25,.25,-.25,.25,.25,-.25,.25,-.25,-.25,.25,-.25,-.25,.25,-.25,-.25,-.25,-.25,-.25,-.25,0,.25,0,.25,-.25,-.25,0,.25,0,.25,-.25,.25,0,.25,0,-.25,-.25,.25,0,.25,0]),h=.2,p=.4,L=64,_=[];for(let r=0;r<L;r++){const t=r/L*Math.PI*2,n=(r+1)/L*Math.PI*2;_.push(Math.cos(t)*h,p/2,Math.sin(t)*h,Math.cos(n)*h,p/2,Math.sin(n)*h,0,p/2,0)}for(let r=0;r<L;r++){const t=r/L*Math.PI*2,n=(r+1)/L*Math.PI*2;_.push(Math.cos(t)*h,-p/2,Math.sin(t)*h,Math.cos(n)*h,-p/2,Math.sin(n)*h,0,-p/2,0)}for(let r=0;r<L;r++){const t=r/L*Math.PI*2,n=(r+1)/L*Math.PI*2;_.push(Math.cos(t)*h,p/2,Math.sin(t)*h,Math.cos(n)*h,p/2,Math.sin(n)*h,Math.cos(n)*h,-p/2,Math.sin(n)*h),_.push(Math.cos(t)*h,p/2,Math.sin(t)*h,Math.cos(n)*h,-p/2,Math.sin(n)*h,Math.cos(t)*h,-p/2,Math.sin(t)*h)}const $=new Float32Array(_),g=.2,E=.4,V=64,G=7,U=[];for(let r=0;r<V;r++){const t=r/V*Math.PI*2,n=(r+1)/V*Math.PI*2;U.push(Math.cos(t)*g,E/2,Math.sin(t)*g,Math.cos(n)*g,E/2,Math.sin(n)*g)}for(let r=0;r<V;r++){const t=r/V*Math.PI*2,n=(r+1)/V*Math.PI*2;U.push(Math.cos(t)*g,-E/2,Math.sin(t)*g,Math.cos(n)*g,-E/2,Math.sin(n)*g)}for(let r=0;r<G;r++){const t=r/G*Math.PI*2,n=Math.cos(t)*g,i=Math.sin(t)*g;U.push(n,E/2,i,n,-E/2,i)}const k=new Float32Array(U),T=document.getElementById("canvas"),e=T.getContext("webgl2");e||alert("webgl2 не работает");const B0=K(e,F0,e.VERTEX_SHADER),g0=K(e,P0,e.FRAGMENT_SHADER),Y=u0(e,B0,g0),r0=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r0);e.bufferData(e.ARRAY_BUFFER,X,e.STATIC_DRAW);const e0=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,e0);e.bufferData(e.ARRAY_BUFFER,J,e.STATIC_DRAW);const t0=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t0);e.bufferData(e.ARRAY_BUFFER,Q,e.STATIC_DRAW);const n0=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n0);e.bufferData(e.ARRAY_BUFFER,Z,e.STATIC_DRAW);const a0=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a0);e.bufferData(e.ARRAY_BUFFER,$,e.STATIC_DRAW);const i0=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i0);e.bufferData(e.ARRAY_BUFFER,k,e.STATIC_DRAW);const u=e.getAttribLocation(Y,"aPosition"),s0=e.createVertexArray();e.bindVertexArray(s0);e.bindBuffer(e.ARRAY_BUFFER,r0);e.vertexAttribPointer(u,3,e.FLOAT,!1,0,0);e.enableVertexAttribArray(u);e.bindVertexArray(null);const o0=e.createVertexArray();e.bindVertexArray(o0);e.bindBuffer(e.ARRAY_BUFFER,e0);e.vertexAttribPointer(u,3,e.FLOAT,!1,0,0);e.enableVertexAttribArray(u);e.bindVertexArray(null);const c0=e.createVertexArray();e.bindVertexArray(c0);e.bindBuffer(e.ARRAY_BUFFER,t0);e.vertexAttribPointer(u,3,e.FLOAT,!1,0,0);e.enableVertexAttribArray(u);e.bindVertexArray(null);const f0=e.createVertexArray();e.bindVertexArray(f0);e.bindBuffer(e.ARRAY_BUFFER,n0);e.vertexAttribPointer(u,3,e.FLOAT,!1,0,0);e.enableVertexAttribArray(u);e.bindVertexArray(null);const A0=e.createVertexArray();e.bindVertexArray(A0);e.bindBuffer(e.ARRAY_BUFFER,a0);e.vertexAttribPointer(u,3,e.FLOAT,!1,0,0);e.enableVertexAttribArray(u);e.bindVertexArray(null);const l0=e.createVertexArray();e.bindVertexArray(l0);e.bindBuffer(e.ARRAY_BUFFER,i0);e.vertexAttribPointer(u,3,e.FLOAT,!1,0,0);e.enableVertexAttribArray(u);e.bindVertexArray(null);const I=e.getUniformLocation(Y,"uColor"),W=e.getUniformLocation(Y,"uMatrix");p0(e,T);e.useProgram(Y);const d0=C(),h0=C(),O=C();b0(h0,45*Math.PI/180,T.width/T.height,.1,10);m0(d0,[1.4,1,1.2],[0,0,-.25],[0,1,0]);w(O,h0,d0);const y0=C(),N=C();H(N,N,[-.75,0,0]);w(y0,O,N);const R0=C(),M0=C();j(M0);w(R0,O,M0);const x0=C(),z=C();H(z,z,[.5,.4,0]);w(x0,O,z);e.uniformMatrix4fv(W,!1,y0);e.uniform4f(I,1,.5,.7,1);e.bindVertexArray(s0);e.drawArrays(e.TRIANGLES,0,X.length/3);e.uniform4f(I,0,0,0,1);e.bindVertexArray(o0);e.drawArrays(e.LINES,0,J.length/3);e.uniformMatrix4fv(W,!1,x0);e.uniform4f(I,.4,.7,1,1);e.bindVertexArray(A0);e.drawArrays(e.TRIANGLES,0,$.length/3);e.uniform4f(I,0,0,0,1);e.bindVertexArray(l0);e.drawArrays(e.LINES,0,k.length/3);e.uniformMatrix4fv(W,!1,R0);e.uniform4f(I,.5,1,.5,1);e.bindVertexArray(c0);e.drawArrays(e.TRIANGLES,0,Q.length/3);e.uniform4f(I,0,0,0,1);e.bindVertexArray(f0);e.drawArrays(e.LINES,0,Z.length/3);
