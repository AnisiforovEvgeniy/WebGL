(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();var x=typeof Float32Array<"u"?Float32Array:Array;function U(){var e=new x(16);return x!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function S(e,r,a){var n=Math.sin(a),t=Math.cos(a),o=r[0],c=r[1],m=r[2],T=r[3],d=r[8],u=r[9],E=r[10],R=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*t-d*n,e[1]=c*t-u*n,e[2]=m*t-E*n,e[3]=T*t-R*n,e[8]=o*n+d*t,e[9]=c*n+u*t,e[10]=m*n+E*t,e[11]=T*n+R*t,e}function b(e,r,a){var n=Math.sin(a),t=Math.cos(a),o=r[0],c=r[1],m=r[2],T=r[3],d=r[4],u=r[5],E=r[6],R=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*t+d*n,e[1]=c*t+u*n,e[2]=m*t+E*n,e[3]=T*t+R*n,e[4]=d*t-o*n,e[5]=u*t-c*n,e[6]=E*t-m*n,e[7]=R*t-T*n,e}const C=`#version 300 es
    in vec4 aPosition;
    in vec2 aTextureCoordinates;
    out vec2 vTextureCoordinates;
    uniform mat4 uRotationMatrix;
    

    void main(){
        gl_Position = uRotationMatrix * aPosition;
        vTextureCoordinates = aTextureCoordinates;
    }
`,w=`#version 300 es
    precision mediump float;
    in vec2 vTextureCoordinates;
    uniform sampler2D uTexture;
    out vec4 outColor; 
    
    void main(){
        outColor = texture(uTexture, vTextureCoordinates);
    }
`,h=""+new URL("img1-CzPuXJEX.jpg",import.meta.url).href,y=""+new URL("img2-e28I8d12.jpg",import.meta.url).href,D=""+new URL("img3-Bf3yUo7I.webp",import.meta.url).href,F=""+new URL("img4-CeQFaaHV.jpg",import.meta.url).href,I=""+new URL("img5-1sp-QKJ2.webp",import.meta.url).href,p=document.getElementById("canvas"),i=p.getContext("webgl2",{antialias:!0});i||alert("webgl2 не работает");function M(e,r){const a=r.getBoundingClientRect(),t=window.devicePixelRatio*a.width;r.width=t,r.height=t,e.viewport(0,0,t,t)}function _(e,r,a){const n=e.createShader(r);return e.shaderSource(n,a),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.error(e.getShaderInfoLog(n)),null)}function X(e,r,a){const n=e.createProgram();return e.attachShader(n,r),e.attachShader(n,a),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)?n:(console.error(e.getProgramLinfoLog(n)),null)}const B=_(i,i.VERTEX_SHADER,C),O=_(i,i.FRAGMENT_SHADER,w),v=X(i,B,O),g=new Float32Array([-.35,.35,0,0,0,-.35,.35,-.7,0,.7,.35,.35,0,.7,0,.35,.35,0,.7,0,.35,.35,-.7,.7,.7,-.35,.35,-.7,0,.7,-.35,-.35,0,0,.7,.35,-.35,0,.7,.7,-.35,-.35,-.7,0,0,.35,-.35,0,.7,.7,.35,-.35,-.7,.7,0,-.35,-.35,-.7,0,0,-.35,.35,-.7,.7,0,.35,.35,-.7,0,0,-.35,-.35,-.7,.7,.7,-.35,-.35,-.7,.7,.7,.35,-.35,-.7,0,.7,.35,.35,-.7,0,0,-.35,.35,0,.7,0,-.35,-.35,0,.7,.7,-.35,-.35,-.7,0,.7,-.35,.35,0,.7,0,-.35,.35,-.7,0,0,-.35,-.35,-.7,0,.7,.35,.35,0,0,0,.35,.35,-.7,.7,0,.35,-.35,0,0,.7,.35,-.35,0,0,.7,.35,-.35,-.7,.7,.7,.35,.35,-.7,.7,0,-.35,.35,0,0,0,.35,.35,0,.7,0,.35,-.35,0,.7,.7,-.35,.35,0,0,0,.35,-.35,0,.7,.7,-.35,-.35,0,0,.7]),N=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,N);i.bufferData(i.ARRAY_BUFFER,g,i.STATIC_DRAW);const P=i.getAttribLocation(v,"aPosition");i.enableVertexAttribArray(P);i.vertexAttribPointer(P,3,i.FLOAT,!1,20,0);const L=i.getAttribLocation(v,"aTextureCoordinates");i.enableVertexAttribArray(L);i.vertexAttribPointer(L,2,i.FLOAT,!1,20,12);const G=i.getUniformLocation(v,"uRotationMatrix"),s=U();let A=0;function Y(e,r,a,n=6){const t=e.getUniformLocation(r,"uTexture");e.activeTexture(e.TEXTURE0);for(let o=0;o<a.length;o++)e.bindTexture(e.TEXTURE_2D,a[o]),e.uniform1i(t,0),e.drawArrays(e.TRIANGLES,o*n,n)}function f(e,r){return new Promise((a,n)=>{const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);const o=new Image;o.src=r,o.onload=()=>{e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a(t)},o.onerror=()=>{n(new Error(`Не загружено: ${r}`))}})}Promise.all([f(i,h),f(i,y),f(i,D),f(i,F),f(i,I),f(i,h)]).then(e=>{function r(){A+=.005,l(s),S(s,s,A),b(s,s,A),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.DEPTH_TEST),i.useProgram(v),i.uniformMatrix4fv(G,!1,s),Y(i,v,e),requestAnimationFrame(r)}r()}).catch(e=>{console.error("Ошибка загрузки текстур:",e)});M(i,p);
