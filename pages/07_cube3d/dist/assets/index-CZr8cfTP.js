(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=a(o);fetch(o.href,i)}})();var p=typeof Float32Array<"u"?Float32Array:Array;function E(){var r=new p(16);return p!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function x(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function B(r,e,a){var n=Math.sin(a),o=Math.cos(a),i=e[0],c=e[1],f=e[2],l=e[3],d=e[8],v=e[9],A=e[10],m=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=i*o-d*n,r[1]=c*o-v*n,r[2]=f*o-A*n,r[3]=l*o-m*n,r[8]=i*n+d*o,r[9]=c*n+v*o,r[10]=f*n+A*o,r[11]=l*n+m*o,r}function T(r,e,a){var n=Math.sin(a),o=Math.cos(a),i=e[0],c=e[1],f=e[2],l=e[3],d=e[4],v=e[5],A=e[6],m=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=i*o+d*n,r[1]=c*o+v*n,r[2]=f*o+A*n,r[3]=l*o+m*n,r[4]=d*o-i*n,r[5]=v*o-c*n,r[6]=A*o-f*n,r[7]=m*o-l*n,r}const M=`#version 300 es
    in vec4 aPosition;
    out vec4 vColor;
    uniform mat4 uRotationMatrix;
    uniform vec4 uColor;

    void main(){
        gl_Position = uRotationMatrix * aPosition;
        vColor = uColor;
    }
`,_=`#version 300 es 
    precision mediump float;
    in vec4 vColor;
    out vec4 outColor; 

    void main(){
        outColor = vColor;
    }
`,S=document.getElementById("canvas"),t=S.getContext("webgl2");t||alert("webgl2 не работает");function w(r,e){const n=Math.min(window.devicePixelRatio,2)*900;e.width=n,e.height=n,e.style.width="900px",e.style.height="900px",r.viewport(0,0,n,n)}function y(r,e,a){const n=r.createShader(e);return r.shaderSource(n,a),r.compileShader(n),r.getShaderParameter(n,r.COMPILE_STATUS)?n:(console.error(r.getShaderInfoLog(n)),null)}function I(r,e,a){const n=r.createProgram();return r.attachShader(n,e),r.attachShader(n,a),r.linkProgram(n),r.getProgramParameter(n,r.LINK_STATUS)?n:(console.error(r.getProgramInfoLog(n)),null)}const O=y(t,t.VERTEX_SHADER,M),U=y(t,t.FRAGMENT_SHADER,_),u=I(t,O,U),F=new Float32Array([-.25,.25,0,-.25,.25,-.5,.25,.25,0,.25,.25,0,.25,.25,-.5,-.25,.25,-.5,-.25,-.25,0,.25,-.25,0,-.25,-.25,-.5,.25,-.25,0,.25,-.25,-.5,-.25,-.25,-.5,-.25,.25,0,.25,.25,0,.25,-.25,0,-.25,.25,0,-.25,-.25,0,.25,-.25,0,-.25,.25,-.5,.25,.25,-.5,-.25,-.25,-.5,-.25,-.25,-.5,.25,-.25,-.5,.25,.25,-.5,-.25,.25,0,-.25,-.25,0,-.25,-.25,-.5,-.25,.25,0,-.25,.25,-.5,-.25,-.25,-.5,.25,.25,0,.25,.25,-.5,.25,-.25,0,.25,-.25,0,.25,-.25,-.5,.25,.25,-.5]),P=new Float32Array([-.25,.25,0,.25,.25,0,.25,.25,0,.25,-.25,0,.25,-.25,0,-.25,-.25,0,-.25,-.25,0,-.25,.25,0,-.25,.25,-.5,.25,.25,-.5,.25,.25,-.5,.25,-.25,-.5,.25,-.25,-.5,-.25,-.25,-.5,-.25,-.25,-.5,-.25,.25,-.5,-.25,.25,0,-.25,.25,-.5,.25,.25,0,.25,.25,-.5,.25,-.25,0,.25,-.25,-.5,-.25,-.25,0,-.25,-.25,-.5]),L=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,L);t.bufferData(t.ARRAY_BUFFER,F,t.STATIC_DRAW);const h=t.getAttribLocation(u,"aPosition");t.enableVertexAttribArray(h);t.vertexAttribPointer(h,3,t.FLOAT,!1,0,0);const b=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,b);t.bufferData(t.ARRAY_BUFFER,P,t.STATIC_DRAW);const g=t.getUniformLocation(u,"uColor"),Y=t.getUniformLocation(u,"uRotationMatrix");let s=E(),R=0;function C(){R+=.015,x(s),B(s,s,R),T(s,s,R),t.useProgram(u),t.uniformMatrix4fv(Y,!1,s),t.uniform4f(g,.25,1,.25,1),t.bindBuffer(t.ARRAY_BUFFER,L),t.vertexAttribPointer(h,3,t.FLOAT,!1,0,0),t.drawArrays(t.TRIANGLES,0,F.length/3),t.uniform4f(g,0,0,0,1),t.bindBuffer(t.ARRAY_BUFFER,b),t.vertexAttribPointer(h,3,t.FLOAT,!1,0,0),t.drawArrays(t.LINES,0,P.length/3),requestAnimationFrame(C)}w(t,S);C();
